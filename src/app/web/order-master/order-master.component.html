<div class="main-card">
    <div class="status_order">
        <div class="toggle-off-on">
            <p-inputSwitch [(ngModel)]="recodeStaus" (onChange)="recodeStausChange($event)"></p-inputSwitch>
                <span *ngIf="!recodeStaus">{{ 'ORDER.ORDER_LIST.PENDING_PROGRESS' | translate}}</span>
                <span *ngIf="recodeStaus">{{ 'ORDER.ORDER_LIST.DONE' | translate}}</span>
        </div>
    </div>
    <button class="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop" (click)="addOrder()">{{'ORDER.ADD_ORDER_BTN' |
        translate}} </button>
</div>

<div class="row">
    <p-table  #order_table [value]="orderListStaus" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        [rowsPerPageOptions]="[10, 25, 50]" [globalFilterFields]="['customerMobileNo']" dataKey="customerMobileNo">
        <ng-template pTemplate="caption">
            <div class="searchBar">
                <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash"
                    (click)="clear(order_table)"></button>
                <span class="p-input-icon-right">
                    <i class="pi pi-search"></i>
                    <input pInputText type="text" id="orderSearch" maxlength="10" (input)="order_table.filterGlobal($event.target.value, 'contains')"
                        placeholder="Search by Mo. No." />
                </span>
            </div>
        </ng-template>
        <ng-template pTemplate="header" let-columns> 
            <tr>
                <th>{{ 'ORDER.ORDER_LIST.SR_NO' | translate}} </th>
                <th>{{ 'ORDER.ORDER_LIST.NAME' | translate}} </th>
                <th>{{ 'ORDER.ORDER_LIST.MOBILE_NO' | translate}}</th>
                <th>{{ 'ORDER.ORDER_LIST.STATUS' | translate}}</th>
                <th>{{ 'ORDER.ORDER_LIST.BILL_NO' | translate}}</th>
                <th>{{ 'ORDER.ORDER_LIST.DELIVERY_DATE' | translate}}</th>
                <th>{{ 'ORDER.ORDER_LIST.QUANTITY' | translate}}</th>
                <th>{{ 'ORDER.ORDER_LIST.TYPE' | translate}}</th>
                <th>{{ 'ORDER.ORDER_LIST.ACTION' | translate}}</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item let-columns="columns" let-rowIndex="rowIndex">
            <tr>
                <td>{{rowIndex + 1}}</td>
                <td>{{item.customerName}}</td>
                <td>{{item.customerMobileNo}}</td>
                <td>  <div class="progressStatus"  [ngClass]="{ pending_status: item.status === 'Pending',progress_status: item.status === 'Progress', done_status: item.status === 'Done'}">
                    <span  class="btn">{{item.status}}</span>
               </div> </td>
                <td>{{item.billNumber}}</td>
                <td>{{item.deliveryDate | date : "dd/MM/YYYY"}}</td>
                <td>{{item.garmentType === 'Jodi' ? item.quantity : item.garmentType === 'Shirt' ?
                    item.shirtDetails.quantity : item.pantDetails.quantity }}</td>
                <td>{{item.garmentType}}</td>
                <td style="width: 11%;padding: 0px 15px;">
                    <div class="action">
                        <div class="status_button">
                            <div class="status_progress" *ngIf="item.status === 'Pending'" (click)="statuspending(item)">
                                <button type="button" class="btn">Progress</button>
                            </div>
                            <div class="status_done" *ngIf="item.status === 'Progress'" (click)="statusInProgress(item)">
                                <button type="button" class="btn">Done</button>
                            </div>
                        </div>
                        <div class="btn-group dropstart">
                            <button type="button" class="actionIcon" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="pi pi-align-center"></i>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" data-bs-toggle="modal"
                                data-bs-target="#staticBackdrop" (click)="editOrder(item)"><i class="pi pi-user-edit"></i>Edit</a></li>
                                <li><a class="dropdown-item" (click)="deleteOrder(item)"> <i class="pi pi-trash"></i>Delete</a></li>
                                <li><a class="dropdown-item" data-bs-toggle="modal" (click)="billOrderView(item)"
                                data-bs-target="#billingView" > <i class="pi pi-id-card"></i>Bill View </a></li>
                              </ul>
                          </div>
                    </div>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="9">No customers found.</td>
            </tr>
        </ng-template>
    </p-table>
</div>

<!-- //////////////////////////////////////////////////////////////////////////////// -->

<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">{{headingName}}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="searchBarCustomer">
                    <div>
                        <input type="text" pInputText [readonly]="isEdit" [(ngModel)]="searchCustomer"
                            class="searchInput" [ngClass]="isEdit ? 'searchBarReadOnly' : '' "
                            [ngModelOptions]="{standalone: true}"
                            placeholder="{{ 'ORDER.ADD_ORDER.SEARCH_CUSTOMER' | translate }} " (keyup.enter)="search()"
                            maxlength="10">
                    </div>
                    <div class="btn"
                        [ngStyle]="{'cursor': searchCustomer?.length != 10 ? 'not-allowed' : 'pointer' , 'pointer-events' : searchCustomer?.length != 10 ? 'none' : '' }"
                        *ngIf="!isEdit">
                        <p-button (onClick)="search()" [disabled]="searchCustomer?.length != 10"
                            label="{{ 'ORDER.ADD_ORDER.SEARCH' | translate}}"></p-button>
                    </div>
                </div>
                <div *ngIf="customerId">
                    <div class="row" style="padding: 10px;">
                        <div class="col-4">
                            <label>{{ 'ORDER.ADD_ORDER.CUSTOMER_NAME' | translate}} : </label>
                            <span>{{fullName}}</span>
                        </div>
                        <div class="col-4">
                            <label>{{ 'ORDER.ADD_ORDER.CUSTOMER_MOBILE' | translate}} : </label>
                            <span>{{mobileNo}}</span>
                        </div>
                    </div>
                    <div [formGroup]="jodiForm">

                        <div class="d-flex" style="padding: 10px;">
                            <label>{{ 'ORDER.ADD_ORDER.GARMENT_TYPE' | translate}} :</label>
                            <div class="flex align-items-center">
                                <p-radioButton class="radioBtn" value="Jodi" formControlName="garmentType"
                                    inputId="type1"></p-radioButton>
                                <label for="type1" class="ml-2 radioLable">{{
                                    'ORDER.ADD_ORDER.JODI' | translate}}</label>
                            </div>

                            <div class="flex align-items-center">
                                <p-radioButton class="radioBtn" value="pant" formControlName="garmentType"
                                    inputId="type2"></p-radioButton>
                                <label for="type2" class="ml-2 radioLable">{{
                                    'ORDER.ADD_ORDER.PANT' | translate}}</label>
                            </div>

                            <div class="flex align-items-center">
                                <p-radioButton class="radioBtn" value="Shirt" formControlName="garmentType"
                                    inputId="type4"></p-radioButton>
                                <label for="type4" class="ml-2 radioLable">{{
                                    'ORDER.ADD_ORDER.SHIRT' | translate}}</label>
                            </div>
                        </div>

                        <!-- ============= pant =============== -->

                        <div *ngIf="jodiForm.value.garmentType == 'pant' ">
                            <div class="row" style="margin: 20px;">
                                <div class="col-6">
                                    <div class="card">
                                        <div class="row">
                                            <div class="col-6">
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.L' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="pantL" />
                                                </div>
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.K' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="pantK" />
                                                </div>
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.SEE' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="shi" />
                                                </div>
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.MO' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="mo" />
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.JA' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="ja" />
                                                </div>
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.JO' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="jo" />
                                                </div>
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.GO' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="go" />
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="input">
                                                        <label>{{ 'ORDER.ADD_ORDER.DELIVERY_DATE' | translate}} :
                                                        </label>
                                                        <p-calendar [dateFormat]="'dd/mm/yy'" [showIcon]="true"
                                                            formControlName="deliveryDate" [minDate]="currentDate"></p-calendar>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="input">
                                                        <label>{{ 'ORDER.ADD_ORDER.QUANTITY' | translate}} : </label>
                                                        <input type="text" (keydown)="inputRestriction($event, 'qty')"  pInputText formControlName="pantQuantity">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="card">
                                        <div class="multiSelect">
                                            <div class="dropdown">
                                                <label>{{ 'ORDER.ADD_ORDER.PANT_PATTERN_TYPE' | translate}} : </label>
                                                <p-multiSelect [options]="pantPatternsList" optionLabel="patternName"
                                                    formControlName="pantPatterns"
                                                    (ngModelChange)="jodiPatternSelection('pant')" display="chip">
                                                </p-multiSelect>
                                            </div>
                                        </div>
                                        <div>
                                            <label>{{ 'ORDER.ADD_ORDER.PATTERN_ADDITIONAL' | translate}} : </label>
                                            <div class="patternDes">
                                                <table class="table">
                                                    <thead>
                                                        <tr class="tHead">
                                                            <th>{{ 'ORDER.ADD_ORDER.JODI_MEASUREMENT.SR_NO' |
                                                                translate}}
                                                            </th>
                                                            <th>{{ 'ORDER.ADD_ORDER.JODI_MEASUREMENT.PATTERN_NAME' |
                                                                translate}} </th>
                                                            <th>{{ 'ORDER.ADD_ORDER.JODI_MEASUREMENT.PRICE' |
                                                                translate}}
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr
                                                            *ngFor="let item of jodiForm.value.pantPatterns; let i = index">
                                                            <td>{{i + 1 }}</td>
                                                            <td>{{item.patternName}}</td>
                                                            <td>{{item.patternPrice}} &#8377;</td>
                                                        </tr>
                                                    </tbody>
                                                    <tfoot>
                                                        <tr>
                                                            <td colspan="2">{{ 'ORDER.ADD_ORDER.EXTRA_COST' | translate}} :</td>
                                                            <td> <b> {{jodiForm.value.pantTotalExtraCost}} &#8377; </b>
                                                            </td>
                                                            <!-- <td></td>
                                                            <span>{{ 'ORDER.ADD_ORDER.EXTRA_COST' | translate}} : <b>
                                                                    {{jodiForm.value.pantTotalExtraCost}} &#8377; </b>
                                                            </span> -->
                                                        </tr>

                                                        <!-- <div style="padding: 10px;"> -->
                                                        <!-- </div> -->
                                                    </tfoot>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="measurement">
                                            <label>{{ 'ORDER.ADD_ORDER.DESCRIPTION' | translate}} : </label>
                                            <textarea pInputText cols="30" rows="4"
                                                formControlName="pantAdditionalDesc"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ============= Shirt =============== -->

                        <div class="p-3" *ngIf="jodiForm.value.garmentType == 'Shirt' ">
                            <div class="row">
                                <div class="col-6">
                                    <div class="card">
                                        <div class="d-flex">
                                            <label>{{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.SHIRT_TYPE' | translate}}
                                                :</label>
                                            <div class="flex align-items-center">
                                                <p-radioButton class="radioBtn" value="Open" formControlName="shirtType"
                                                    inputId="type3">
                                                </p-radioButton>
                                                <label for="type3" class="ml-2 radioLable">{{
                                                    'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.SHIRT_OPEN' |
                                                    translate}}</label>
                                            </div>

                                            <div class="flex align-items-center">
                                                <p-radioButton class="radioBtn" value="Bushirt"
                                                    formControlName="shirtType" inputId="type5">
                                                </p-radioButton>
                                                <label for="type5" class="ml-2 radioLable">{{
                                                    'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.SHIRT_BUSHIRT' |
                                                    translate}}</label>
                                            </div>
                                        </div>
                                        <div class="measurement">
                                            <div class="p-inputgroup m-2">
                                                <span class="p-inputgroup-addon">
                                                    {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.L' | translate}}
                                                </span>
                                                <input pInputText (keydown)="inputRestriction($event)"  formControlName="shirtL" />
                                            </div>
                                            <div class="p-inputgroup m-2">
                                                <span class="p-inputgroup-addon">
                                                    {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.BA' | translate}}
                                                </span>
                                                <input pInputText (keydown)="inputRestriction($event)"  formControlName="ba" />
                                            </div>
                                            <div class="p-inputgroup m-2">
                                                <span class="p-inputgroup-addon">
                                                    {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.CHA' | translate}}
                                                </span>
                                                <input pInputText (keydown)="inputRestriction($event)"  formControlName="cha" />
                                            </div>
                                            <div class="col-12 sholderMain m-2">
                                                <div class="col-4 sholInput">
                                                    <div class="p-inputgroup">
                                                        <span class="p-inputgroup-addon">
                                                            {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.SHO' | translate}}
                                                        </span>
                                                        <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="sho1" />
                                                    </div>
                                                </div>
                                                <div class="col-4 sholInput">
                                                    <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="sho2" />
                                                </div>
                                                <div class="col-4 sholInput">
                                                    <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="sho3" />
                                                </div>
                                            </div>
                                            <div class="col-12 sholderMain m-2">
                                                <div class="col-4 sholInput">
                                                    <div class="p-inputgroup">
                                                        <span class="p-inputgroup-addon">
                                                            {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.PREY' | translate}}
                                                        </span>
                                                        <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="pe1" />
                                                    </div>
                                                </div>
                                                <div class="col-4 sholInput">
                                                    <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="pe2" />
                                                </div>
                                                <div class="col-4 sholInput">
                                                    <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="pe3" />
                                                </div>
                                                <div class="col-4 sholInput">
                                                    <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="pe4" />
                                                </div>
                                            </div>
                                            <div class="p-inputgroup m-2">
                                                <span class="p-inputgroup-addon">
                                                    {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.KO' | translate}}
                                                </span>
                                                <input pInputText (keydown)="inputRestriction($event)"  formControlName="ko" />
                                            </div>
                                            <div class="p-inputgroup m-2">
                                                <span class="p-inputgroup-addon">
                                                    {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.K' | translate}}
                                                </span>
                                                <input pInputText (keydown)="inputRestriction($event)"  formControlName="shirtK" />
                                            </div>
                                            <div class="p-inputgroup m-2">
                                                <span class="p-inputgroup-addon">
                                                    {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.KH' | translate}}
                                                </span>
                                                <input pInputText (keydown)="inputRestriction($event)"  formControlName="kh" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="card">
                                        <div class="multiSelect">
                                            <div class="dropdown m-2">
                                                <label>{{ 'ORDER.ADD_ORDER.SHIRT_PATTERN_TYPE' | translate}} : </label>
                                                <p-multiSelect [options]="shirtPatternsList" optionLabel="patternName"
                                                    formControlName="shirtPatterns"
                                                    (ngModelChange)="jodiPatternSelection('shirt')" display="chip">
                                                </p-multiSelect>
                                            </div>
                                        </div>
                                        <div class="measurement">
                                            <label>{{ 'ORDER.ADD_ORDER.PATTERN_ADDITIONAL' | translate}} : </label>
                                            <div class="patternDes">
                                                <div class="table">
                                                    <table class="table">
                                                        <tr class="tHead">
                                                            <th>{{ 'ORDER.ADD_ORDER.JODI_MEASUREMENT.SR_NO' |
                                                                translate}}
                                                            </th>
                                                            <th>{{ 'ORDER.ADD_ORDER.JODI_MEASUREMENT.PATTERN_NAME' |
                                                                translate}} </th>
                                                            <th>{{ 'ORDER.ADD_ORDER.JODI_MEASUREMENT.PRICE' |
                                                                translate}}
                                                            </th>
                                                        </tr>
                                                        <tr
                                                            *ngFor="let item of jodiForm.value.shirtPatterns; let i = index">
                                                            <td>{{i + 1 }}</td>
                                                            <td>{{item.patternName}}</td>
                                                            <td>{{item.patternPrice}} &#8377;</td>
                                                        </tr>
                                                        <tfoot>
                                                            <tr>
                                                                <td colspan="2">{{ 'ORDER.ADD_ORDER.EXTRA_COST' | translate}} :</td>
                                                                <td> <b> {{jodiForm.value.shirtTotalExtraCost}} &#8377; </b>
                                                                </td>
                                                                <!-- <td></td>
                                                                <span>{{ 'ORDER.ADD_ORDER.EXTRA_COST' | translate}} : <b>
                                                                        {{jodiForm.value.pantTotalExtraCost}} &#8377; </b>
                                                                </span> -->
                                                            </tr>
        
                                                            <!-- <div style="padding: 10px;"> -->
                                                            <!-- </div> -->
                                                        </tfoot>
                                                    </table>
                                                </div>
                                                <!-- <div style="padding: 10px;">
                                                    <span>{{ 'ORDER.ADD_ORDER.EXTRA_COST' | translate}} : <b>
                                                            {{jodiForm.value.shirtTotalExtraCost}} &#8377;
                                                        </b>
                                                    </span>
                                                </div> -->
                                            </div>
                                        </div>
                                        <div class="measurement">
                                            <label>{{ 'ORDER.ADD_ORDER.DESCRIPTION' | translate}} : </label>
                                            <textarea pInputText cols="30" rows="4"
                                                formControlName="shirtAdditionalDesc"></textarea>
                                        </div>
                                        <div class="measurement">
                                            <label>{{ 'ORDER.ADD_ORDER.DELIVERY_DATE' | translate}} : </label>
                                            <p-calendar [dateFormat]="'dd/mm/yy'" [showIcon]="true"
                                                formControlName="deliveryDate" [minDate]="currentDate"></p-calendar>
                                        </div>
                                        <div class="measurement" *ngIf="jodiForm.value.garmentType == 'Shirt' ">
                                            <label>{{ 'ORDER.ADD_ORDER.QUANTITY' | translate}} : </label>
                                            <input type="text" (keydown)="inputRestriction($event,'qty')"  pInputText formControlName="shirtQuantity">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ==================Jodi=============== -->

                        <div class="JodiData" *ngIf="jodiForm.value.garmentType == 'Jodi' ">
                            <div class="row p-3">
                                <div class="col-6">
                                    <div class="card">
                                        <span style="font-size: 15px; font-weight: 500;padding: 5px;">{{ 'ORDER.ADD_ORDER.PANT_DETAILS' | translate}}</span>
                                        <div class="row">
                                            <div class="col-6">
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.L' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="pantL" />
                                                </div>
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.K' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="pantK" />
                                                </div>
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.SEE' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="shi" />
                                                </div>
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.MO' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="mo" />
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.JA' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="ja" />
                                                </div>
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.JO' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="jo" />
                                                </div>
                                                <div class="p-inputgroup m-2">
                                                    <span class="p-inputgroup-addon">
                                                        {{ 'ORDER.ADD_ORDER.PANT_MEASUREMENT.GO' | translate}}
                                                    </span>
                                                    <input pInputText (keydown)="inputRestriction($event)"  formControlName="go" />
                                                </div>
                                                <div class="multiSelect">
                                                    <div class="dropdown m-2">
                                                        <label>{{ 'ORDER.ADD_ORDER.PANT_PATTERN_TYPE' | translate}} :
                                                        </label>
                                                        <p-multiSelect [options]="pantPatternsList"
                                                            optionLabel="patternName" formControlName="pantPatterns"
                                                            (ngModelChange)="jodiPatternSelection('pant')"
                                                            display="chip">
                                                        </p-multiSelect>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="measurement">
                                            <label>{{ 'ORDER.ADD_ORDER.PATTERN_ADDITIONAL' | translate}} : </label>
                                            <div class="patternDes">
                                                <div class="table">
                                                    <table class="table">
                                                        <tr class="tHead">
                                                            <th>{{ 'ORDER.ADD_ORDER.JODI_MEASUREMENT.SR_NO' |
                                                                translate}}
                                                            </th>
                                                            <th>{{ 'ORDER.ADD_ORDER.JODI_MEASUREMENT.PATTERN_NAME' |
                                                                translate}} </th>
                                                            <th>{{ 'ORDER.ADD_ORDER.JODI_MEASUREMENT.PRICE' |
                                                                translate}}
                                                            </th>
                                                        </tr>
                                                        <tr
                                                            *ngFor="let item of jodiForm.value.pantPatterns; let i = index">
                                                            <td>{{i + 1 }}</td>
                                                            <td>{{item.patternName}}</td>
                                                            <td>{{item.patternPrice}} &#8377;</td>
                                                        </tr>
                                                        <tfoot>
                                                            <tr>
                                                                <td colspan="2">{{ 'ORDER.ADD_ORDER.EXTRA_COST' | translate}} :</td>
                                                                <td> <b> {{jodiForm.value.pantTotalExtraCost}} &#8377; </b>
                                                                </td>
                                                                <!-- <td></td>
                                                                <span>{{ 'ORDER.ADD_ORDER.EXTRA_COST' | translate}} : <b>
                                                                        {{jodiForm.value.pantTotalExtraCost}} &#8377; </b>
                                                                </span> -->
                                                            </tr>
        
                                                            <!-- <div style="padding: 10px;"> -->
                                                            <!-- </div> -->
                                                        </tfoot>
                                                    </table>
                                                </div>
                                                <!-- <div style="padding: 10px;">
                                                    <span>{{ 'ORDER.ADD_ORDER.EXTRA_COST' | translate}} : <b>
                                                            {{jodiForm.value.pantTotalExtraCost}} &#8377; </b>
                                                    </span>
                                                </div> -->
                                            </div>
                                        </div>
                                        <div class="measurement">
                                            <label>{{ 'ORDER.ADD_ORDER.DESCRIPTION' | translate}} : </label>
                                            <textarea pInputText cols="30" rows="4"
                                                formControlName="pantAdditionalDesc"></textarea>
                                        </div>
                                        <div class="row">
                                            <div class="col-6">
                                                <div class="measurement">
                                                    <label>{{ 'ORDER.ADD_ORDER.DELIVERY_DATE' | translate}} : </label>
                                                    <p-calendar [dateFormat]="'dd/mm/yy'" [showIcon]="true"
                                                        formControlName="deliveryDate" [minDate]="currentDate"></p-calendar>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="measurement">
                                                    <label>{{ 'ORDER.ADD_ORDER.QUANTITY' | translate}} : </label>
                                                    <input type="text" pInputText (keydown)="inputRestriction($event,'qty')" formControlName="jodiQuantity">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="card">
                                        <span style="font-size: 15px; font-weight: 500; padding: 5px;">{{ 'ORDER.ADD_ORDER.SHIRT_DETAILS' | translate}}</span>
                                        <div class="row">
                                            <div class="d-flex">
                                                <label>{{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.SHIRT_TYPE' |
                                                    translate}}</label>
                                                <div class="flex align-items-center">
                                                    <p-radioButton class="radioBtn" value="Open" formControlName="shirtType" inputId="type7">
                                                    </p-radioButton>
                                                    <label for="type7" class="ml-2 radioLable">{{
                                                        'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.SHIRT_OPEN' |
                                                        translate}}</label>
                                                </div>
                                            
                                                <div class="flex align-items-center">
                                                    <p-radioButton class="radioBtn" value="Bushirt" formControlName="shirtType" inputId="type6">
                                                    </p-radioButton>
                                                    <label for="type6" class="ml-2 radioLable">{{
                                                        'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.SHIRT_BUSHIRT' |
                                                        translate}}</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="p-inputgroup m-2">
                                                        <span class="p-inputgroup-addon">
                                                            {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.L' | translate}}
                                                        </span>
                                                        <input pInputText (keydown)="inputRestriction($event)"  formControlName="shirtL" />
                                                    </div>
                                                    <div class="p-inputgroup m-2">
                                                        <span class="p-inputgroup-addon">
                                                            {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.BA' | translate}}
                                                        </span>
                                                        <input pInputText (keydown)="inputRestriction($event)"  formControlName="ba" />
                                                    </div>
                                                    <div class="p-inputgroup m-2">
                                                        <span class="p-inputgroup-addon">
                                                            {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.CHA' | translate}}
                                                        </span>
                                                        <input pInputText (keydown)="inputRestriction($event)"  formControlName="cha" />
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="p-inputgroup m-2">
                                                        <span class="p-inputgroup-addon">
                                                            {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.KO' | translate}}
                                                        </span>
                                                        <input pInputText (keydown)="inputRestriction($event)"  formControlName="ko" />
                                                    </div>
                                                    <div class="p-inputgroup m-2">
                                                        <span class="p-inputgroup-addon">
                                                            {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.K' | translate}}
                                                        </span>
                                                        <input pInputText (keydown)="inputRestriction($event)"  formControlName="shirtK" />
                                                    </div>
                                                    <div class="p-inputgroup m-2">
                                                        <span class="p-inputgroup-addon">
                                                            {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.KH' | translate}}
                                                        </span>
                                                        <input pInputText (keydown)="inputRestriction($event)"  formControlName="kh" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="jodisholderMain m-2">
                                                            <div class="col-4 sholInput">
                                                                <div class="p-inputgroup">
                                                                    <span class="p-inputgroup-addon">
                                                                        {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.SHO' | translate}}
                                                                    </span>
                                                                    <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="sho1" />
                                                                </div>
                                                            </div>
                                                            <div class="col-4 sholInput">
                                                                <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="sho2" />
                                                            </div>
                                                            <div class="col-4 sholInput">
                                                                <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="sho3" />
                                                            </div>
                                                    </div>
                                                    <div class="jodisholderMain m-2">
                                                            <div class="col-4 sholInput">
                                                                <div class="p-inputgroup">
                                                                    <span class="p-inputgroup-addon">
                                                                        {{ 'ORDER.ADD_ORDER.SHIRT_MEASUREMENT.PREY' | translate}}
                                                                    </span>
                                                                    <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="pe1" />
                                                                </div>
                                                            </div>
                                                            <div class="col-4 sholInput">
                                                                <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="pe2" />
                                                            </div>
                                                            <div class="col-4 sholInput">
                                                                <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="pe3" />
                                                            </div>
                                                            <div class="col-4 sholInput">
                                                                <input pInputText class="w-100" (keydown)="inputRestriction($event)"  formControlName="pe4" />
                                                            </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div style="padding: 10px;">
                                            <div class="multiSelect">
                                                <div class=" m-2">
                                                    <label>{{ 'ORDER.ADD_ORDER.SHIRT_PATTERN_TYPE' | translate}} :
                                                    </label>
                                                    <p-multiSelect [options]="shirtPatternsList"
                                                        optionLabel="patternName" formControlName="shirtPatterns"
                                                        (ngModelChange)="jodiPatternSelection('shirt')" display="chip">
                                                    </p-multiSelect>
                                                </div>
                                            </div>
                                            <div class="measurement">
                                                <label>{{ 'ORDER.ADD_ORDER.PATTERN_ADDITIONAL' | translate}} : </label>
                                                <div class="patternDes">
                                                    <div class="table">
                                                        <table class="table">
                                                            <tr class="tHead" >
                                                                <th>{{ 'ORDER.ADD_ORDER.JODI_MEASUREMENT.SR_NO' |
                                                                    translate}}
                                                                </th>
                                                                <th>{{ 'ORDER.ADD_ORDER.JODI_MEASUREMENT.PATTERN_NAME' |
                                                                    translate}} </th>
                                                                <th>{{ 'ORDER.ADD_ORDER.JODI_MEASUREMENT.PRICE' |
                                                                    translate}}
                                                                </th>
                                                            </tr>
                                                            <tr
                                                                *ngFor="let item of jodiForm.value.shirtPatterns; let i = index">
                                                                <td>{{i + 1 }}</td>
                                                                <td>{{item.patternName}}</td>
                                                                <td>{{item.patternPrice}} &#8377;</td>
                                                            </tr>
                                                            <tfoot>
                                                                <tr>
                                                                    <td colspan="2">{{ 'ORDER.ADD_ORDER.EXTRA_COST' | translate}} :</td>
                                                                    <td> <b> {{jodiForm.value.shirtTotalExtraCost}} &#8377; </b>
                                                                    </td>
                                                                    <!-- <td></td>
                                                                    <span>{{ 'ORDER.ADD_ORDER.EXTRA_COST' | translate}} : <b>
                                                                            {{jodiForm.value.pantTotalExtraCost}} &#8377; </b>
                                                                    </span> -->
                                                                </tr>
            
                                                                <!-- <div style="padding: 10px;"> -->
                                                                <!-- </div> -->
                                                            </tfoot>
                                                        </table>
                                                    </div>
                                                    <!-- <div style="padding: 10px;">
                                                        <span>{{ 'ORDER.ADD_ORDER.EXTRA_COST' | translate}} : <b>
                                                                {{jodiForm.value.shirtTotalExtraCost}} &#8377;
                                                            </b>
                                                        </span>
                                                    </div> -->
                                                </div>
                                            </div>
                                            <div class="measurement">
                                                <label>{{ 'ORDER.ADD_ORDER.DESCRIPTION' | translate}} : </label>
                                                <textarea pInputText cols="30" rows="4"
                                                    formControlName="shirtAdditionalDesc"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="jodiSubmit()" data-bs-dismiss="modal" [disabled]="!jodiForm.valid">{{
                'ORDER.ADD_ORDER.SUBMIT' | translate}}</button>
            </div>
        </div>
    </div>
</div>

  <!-- Bill View Modal -->
  <div class="modal fade" id="billingView" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Customer Bill </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <div>
                <div class="container px-0">
                    <div class="row" style="justify-content: center;">
                        <div style="border-right:1px solid #fff; border-left:1px solid #fff; display: flex; justify-content: center;">
                            <div id="downloadBill" class="col-12 col-lg-10 InvoiceBorder" style="padding: 20px; border: 1px solid;">
                                <div class="heder_item" style="border: 1px solid black;">
                                <div class="mobile" style="display: flex; justify-content: space-between;">
                                    <span class="mobile_Number" style=" font-size: 17px; margin: 0px 10px; font-weight: 700;">MO : {{userData?.mobileNo}}</span>
                                    <span class="mobile_Number" style=" font-size: 17px; margin: 0px 10px; font-weight: 700;">  :</span>
                                    <span class="mobile_Number" style=" font-size: 17px; margin: 0px 10px; font-weight: 700;">MO : {{userData?.companyMobile}}</span>
                                </div>
                                <div class="chalan-heder" style="display: flex; justify-content: center;">
                                    <!-- <img src="./logo_3.png" alt="" style=" width: 16%; height: 0%; margin: 25px 0 0 0;"> -->
                                    <div class="heder-text" style="padding: 15px; text-align: center;">
                                        <span class="heder-mame" style="font-family: serif; letter-spacing: 1.6px; font-size: 40px; font-weight: 700; color: #000;">{{userData?.companyName}}</span>        
                                    </div>
                                </div>
                                <div class="add"  style="background-color: #000;color: #fff;margin: 4px 5px 0;
                                border-radius: 10px 10px 0 0;
                                color: #fff;
                                font-size: 14px;
                                font-weight: 700;
                                padding: 4px 0;">
                                    <p style="margin: 0;
                                    text-align: center;">{{userData?.companyAddress}}</p>
        
                                </div>
                            </div>
                            <table class="table_header" border="1" style="margin-bottom: 10px;">
                                <tbody>
                                    <tr>
                                        <td border="1" class="invoiceDetails" style="width: 55.2%; border-top: none!important; padding: 16px;">
                                            <div class="chalan-M_S-name" style="display: flex;">
                                                <span>M/s:</span>
                                                <p style="    border-bottom: 1px solid #000000;
                                                width: 100%;
                                                display: flex;
                                                margin-left: 41px;
                                                font-size: 20px;
                                                font-weight: 600;">{{fullName}}</p>
                                            </div>
                                            <div class="chalan-boder" style="display: flex;">
                                                <span>Mobile:</span>
                                                <p style="border-bottom: 1px solid #000000;
                                                width: 100%;
                                                display: flex;
                                                margin-left: 10px;
                                                font-size: 20px;">{{mobileNo}}</p>
                                            </div>
                                        </td>
                                        <td class="ChalanNo_Date" border="1" style="width: 26%; text-align: center; border-top: none; border: solid 0.5px #000000;">
                                            <div class="row" style="margin: 0;">
                                                <div class="chalan-date" style="display: flex;">
                                                    <span>Date:</span>
                                                    <p
                                                    style="border-bottom: 1px solid #000000;
                                                width: 100%;
                                                display: flex;
                                                margin-left: 50px;
                                                font-size: 20px;">{{todayBill | date : "dd/MM/YYYY"}}</p>
                                                </div>
                                                <div class="chalan-date" style="display: flex;">
                                                    <span>BillNo:</span>
                                                    <p 
                                                    style="border-bottom: 1px solid #000000;
                                                width: 100%;
                                                display: flex;
                                                margin-left: 41px;
                                                font-size: 20px;">{{orderData?.billNumber}}</p>
                                                </div>
                                                <div class="chalan-date" style="display: flex;">
                                                    <span>Delivery:</span>
                                                    <p 
                                                    style="border-bottom: 1px solid #000000;
                                                width: 100%;
                                                display: flex;
                                                margin-left: 41px;
                                                font-size: 20px;">{{orderData?.deliveryDate | date : "dd/MM/YYYY"}}</p>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <table class="color_dropdown" style="width: 100%!important; ">
                                <tbody class="tableFixedHeight">
                                    <tr class="header" style="color: #fff; background-color: #000;">
                                        <th style="width: 10%; border: 0.5px solid #000000; padding: 8px;">Sr.</th>
                                        <th style="width: 40%; border: 0.5px solid #000000; padding: 8px;">Particulars</th>
                                        <th style="width: 30%; border: 0.5px solid #000000; padding: 8px;">Quantity</th>
                                        <!-- <th style="width: 15%; border: 0.5px solid #000000; padding: 8px;">Rate</th> -->
                                        <th style="width: 20%; border: 0.5px solid #000000; padding: 8px;">Amount</th>
                                    </tr>
                                    <tr class="header" style="border: 1px solid">
                                        <td style="width: 10%; padding: 8px; border-right: 1px solid;">1</td>
                                        <td style="width: 40%; padding: 8px; border-right: 1px solid;">{{orderData?.garmentType}}</td>
                                        <td style="width: 30%; padding: 8px; border-right: 1px solid;">{{quantityType}}</td>
                                        <!-- <td style="width: 15%; padding: 8px; border-right: 1px solid;">250</td> -->
                                        <td style="width: 20%; padding: 8px;">{{finalAmount}}</td>
                                    </tr>   
                                </tbody>
                            </table>
                            <table class="table_data" border="1" style="width: 100%!important;">
                                <tbody>
                                    <tr style="border: 0 solid; border-color: inherit;">
                                        <td style="width: 49.99%; padding: 10px;"></td>
                                        <td class="borders" style="padding: 10px; border: solid 0.5px #000000;"><b>Net Amount</b></td>
                                        <td class="borders" style="width: 20.1%; padding: 10px;">
                                            <b>{{totalAmount}}</b>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
          <!-- <button type="button" class="btn btn-primary" (click)="pint()">Print</button> -->
          <button type="button" class="btn btn-primary" (click)="shareBill()">Download</button>
        </div>
      </div>
    </div>
  </div>

